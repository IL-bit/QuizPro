<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <button id="buttonQuiz">Пройти квиз</button>
    <div id="Quiz"> <!-- Initially hidden -->

    </div>
    <script>

        document.addEventListener('DOMContentLoaded', () => {
            const url = 'http://qzpro.ru';
            const quiz_id = '';
            const imgs = {
                next: 'PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE1LjcwNzEgOC43MDcxMUMxNi4wOTc2IDguMzE2NTggMTYuMDk3NiA3LjY4MzQyIDE1LjcwNzEgNy4yOTI4OUw5LjM0MzE1IDAuOTI4OTMyQzguOTUyNjIgMC41Mzg0MDggOC4zMTk0NiAwLjUzODQwOCA3LjkyODkzIDAuOTI4OTMyQzcuNTM4NDEgMS4zMTk0NiA3LjUzODQxIDEuOTUyNjIgNy45Mjg5MyAyLjM0MzE1TDEzLjU4NTggOEw3LjkyODkzIDEzLjY1NjlDNy41Mzg0MSAxNC4wNDc0IDcuNTM4NDEgMTQuNjgwNSA3LjkyODkzIDE1LjA3MTFDOC4zMTk0NiAxNS40NjE2IDguOTUyNjIgMTUuNDYxNiA5LjM0MzE1IDE1LjA3MTFMMTUuNzA3MSA4LjcwNzExWk0wIDlIMTVWN0gwVjlaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K',
                back: 'PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAuMjkyODkyIDcuMjkyODlDLTAuMDk3NjMxNSA3LjY4MzQyIC0wLjA5NzYzMTQgOC4zMTY1OCAwLjI5Mjg5MyA4LjcwNzExTDYuNjU2ODUgMTUuMDcxMUM3LjA0NzM4IDE1LjQ2MTYgNy42ODA1NCAxNS40NjE2IDguMDcxMDcgMTUuMDcxMUM4LjQ2MTU5IDE0LjY4MDUgOC40NjE1OSAxNC4wNDc0IDguMDcxMDcgMTMuNjU2OUwyLjQxNDIxIDhMOC4wNzEwNyAyLjM0MzE1QzguNDYxNTkgMS45NTI2MiA4LjQ2MTU5IDEuMzE5NDYgOC4wNzEwNyAwLjkyODkzM0M3LjY4MDU0IDAuNTM4NDA5IDcuMDQ3MzggMC41Mzg0MDkgNi42NTY4NSAwLjkyODkzM0wwLjI5Mjg5MiA3LjI5Mjg5Wk0xNiA3TDAuOTk5OTk5IDdMMC45OTk5OTkgOUwxNiA5TDE2IDdaIiBmaWxsPSIjNkE4NDk2Ii8+Cjwvc3ZnPgo=',
                close: 'PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzI2NDVfMTQ4NzYpIj4KPHBhdGggZD0iTTE3LjgzNjIgMTQuNDYxMkwxMi4zNzU0IDkuMDAwNDRMMTcuODM2MiAzLjUzOTY5QzE3Ljk0MDggMy40MzM3OCAxNy45OTk1IDMuMjkwODkgMTcuOTk5NSAzLjE0MkMxNy45OTk1IDIuOTkzMTIgMTcuOTQwOCAyLjg1MDIzIDE3LjgzNjIgMi43NDQzMkwxNS4yNTY2IDAuMTY0NjkyQzE1LjE1MTEgMC4wNTkyMzk5IDE1LjAwOCAwIDE0Ljg1ODkgMEMxNC43MDk3IDAgMTQuNTY2NyAwLjA1OTIzOTkgMTQuNDYxMiAwLjE2NDY5Mkw5LjAwMDQ0IDUuNjI1NDRMMy41Mzk2OSAwLjE2NDY5MkMzLjQzNDIxIDAuMDU5MjM5OSAzLjI5MTE2IDAgMy4xNDIgMEMyLjk5Mjg1IDAgMi44NDk4IDAuMDU5MjM5OSAyLjc0NDMyIDAuMTY0NjkyTDAuMTY0NjkyIDIuNzQ0MzJDMC4wNTkyMzk5IDIuODQ5OCAwIDIuOTkyODUgMCAzLjE0MkMwIDMuMjkxMTYgMC4wNTkyMzk5IDMuNDM0MjEgMC4xNjQ2OTIgMy41Mzk2OUw1LjYyNTQ0IDkuMDAwNDRMMC4xNjQ2OTIgMTQuNDYxMkMwLjA1OTIzOTkgMTQuNTY2NyAwIDE0LjcwOTcgMCAxNC44NTg5QzAgMTUuMDA4IDAuMDU5MjM5OSAxNS4xNTExIDAuMTY0NjkyIDE1LjI1NjZMMi43NDQzMiAxNy44MzYyQzIuODQ5OCAxNy45NDE2IDIuOTkyODUgMTguMDAwOSAzLjE0MiAxOC4wMDA5QzMuMjkxMTYgMTguMDAwOSAzLjQzNDIxIDE3Ljk0MTYgMy41Mzk2OSAxNy44MzYyTDkuMDAwNDQgMTIuMzc1NEwxNC40NjEyIDE3LjgzNjJDMTQuNTY2NyAxNy45NDE2IDE0LjcwOTcgMTguMDAwOSAxNC44NTg5IDE4LjAwMDlDMTUuMDA4IDE4LjAwMDkgMTUuMTUxMSAxNy45NDE2IDE1LjI1NjYgMTcuODM2MkwxNy44MzYyIDE1LjI1NjZDMTcuOTQxNiAxNS4xNTExIDE4LjAwMDkgMTUuMDA4IDE4LjAwMDkgMTQuODU4OUMxOC4wMDA5IDE0LjcwOTcgMTcuOTQxNiAxNC41NjY3IDE3LjgzNjIgMTQuNDYxMloiIGZpbGw9IndoaXRlIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMjY0NV8xNDg3NiI+CjxyZWN0IHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K',
                person: 'PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjIiIHZpZXdCb3g9IjAgMCAyMSAyMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTAuMjIzOSIgY3k9IjUuNzQ5MjkiIHI9IjMuMzk1NzciIGZpbGw9IiM2QTg0OTYiLz4KPGVsbGlwc2UgY3g9IjEwLjIyMzgiIGN5PSIxNS4wODcyIiByeD0iNS45NDI2IiByeT0iMy4zOTU3NyIgZmlsbD0iIzZBODQ5NiIvPgo8L3N2Zz4K',
                email: 'PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjE3MTU3IDUuMTcxNTdDMiA2LjM0MzE1IDIgOC4yMjg3NiAyIDEyQzIgMTUuNzcxMiAyIDE3LjY1NjkgMy4xNzE1NyAxOC44Mjg0QzQuMzQzMTUgMjAgNi4yMjg3NiAyMCAxMCAyMEgxNEMxNy43NzEyIDIwIDE5LjY1NjkgMjAgMjAuODI4NCAxOC44Mjg0QzIyIDE3LjY1NjkgMjIgMTUuNzcxMiAyMiAxMkMyMiA4LjIyODc2IDIyIDYuMzQzMTUgMjAuODI4NCA1LjE3MTU3QzE5LjY1NjkgNCAxNy43NzEyIDQgMTQgNEgxMEM2LjIyODc2IDQgNC4zNDMxNSA0IDMuMTcxNTcgNS4xNzE1N1pNMTguNTc2MiA3LjUxOTg2QzE4Ljg0MTMgNy44MzgwNyAxOC43OTgzIDguMzEwOTkgMTguNDgwMSA4LjU3NjE3TDE2LjI4MzcgMTAuNDA2NkMxNS4zOTczIDExLjE0NTIgMTQuNjc4OSAxMS43NDM5IDE0LjA0NDggMTIuMTUxN0MxMy4zODQzIDEyLjU3NjUgMTIuNzQxMSAxMi44NDQ5IDEyIDEyLjg0NDlDMTEuMjU4OSAxMi44NDQ5IDEwLjYxNTcgMTIuNTc2NSA5Ljk1NTE4IDEyLjE1MTdDOS4zMjExMiAxMS43NDM5IDguNjAyNzEgMTEuMTQ1MiA3LjcxNjM2IDEwLjQwNjZMNS41MTk4NiA4LjU3NjE3QzUuMjAxNjUgOC4zMTA5OSA1LjE1ODY2IDcuODM4MDcgNS40MjM4MyA3LjUxOTg2QzUuNjg5MDEgNy4yMDE2NSA2LjE2MTkzIDcuMTU4NjYgNi40ODAxNCA3LjQyMzgzTDguNjM5MDMgOS4yMjI5MUM5LjU3MTk5IDEwLjAwMDQgMTAuMjE5NyAxMC41Mzg0IDEwLjc2NjYgMTAuODkwMUMxMS4yOTU5IDExLjIzMDYgMTEuNjU0OSAxMS4zNDQ5IDEyIDExLjM0NDlDMTIuMzQ1MSAxMS4zNDQ5IDEyLjcwNDEgMTEuMjMwNiAxMy4yMzM0IDEwLjg5MDFDMTMuNzgwMyAxMC41Mzg0IDE0LjQyOCAxMC4wMDA0IDE1LjM2MSA5LjIyMjkxTDE3LjUxOTkgNy40MjM4M0MxNy44MzgxIDcuMTU4NjYgMTguMzExIDcuMjAxNjUgMTguNTc2MiA3LjUxOTg2WiIgZmlsbD0iIzZBODQ5NiIvPgo8L3N2Zz4K',
                phone: 'PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwLjAzNzYgNS4zMTYxN0wxMC42ODY2IDYuNDc5MUMxMS4yNzIzIDcuNTI4NTggMTEuMDM3MiA4LjkwNTMyIDEwLjExNDcgOS44Mjc4QzEwLjExNDcgOS44Mjc4IDEwLjExNDcgOS44Mjc4IDEwLjExNDcgOS44Mjc4QzEwLjExNDYgOS44Mjc5MiA4Ljk5NTg4IDEwLjk0NjggMTEuMDI0NSAxMi45NzU1QzEzLjA1MjUgMTUuMDAzNSAxNC4xNzE0IDEzLjg4NjEgMTQuMTcyMiAxMy44ODUzQzE0LjE3MjIgMTMuODg1MyAxNC4xNzIyIDEzLjg4NTMgMTQuMTcyMiAxMy44ODUzQzE1LjA5NDcgMTIuOTYyOCAxNi40NzE0IDEyLjcyNzcgMTcuNTIwOSAxMy4zMTM0TDE4LjY4MzggMTMuOTYyNEMyMC4yNjg2IDE0Ljg0NjggMjAuNDU1NyAxNy4wNjkyIDE5LjA2MjggMTguNDYyMkMxOC4yMjU4IDE5LjI5OTIgMTcuMjAwNCAxOS45NTA1IDE2LjA2NjkgMTkuOTkzNEMxNC4xNTg4IDIwLjA2NTggMTAuOTE4MyAxOS41ODI5IDcuNjY3NyAxNi4zMzIzQzQuNDE3MTMgMTMuMDgxNyAzLjkzNDIxIDkuODQxMjIgNC4wMDY1NSA3LjkzMzA5QzQuMDQ5NTIgNi43OTk2IDQuNzAwOCA1Ljc3NDIzIDUuNTM3ODEgNC45MzcyM0M2LjkzMDc2IDMuNTQ0MjggOS4xNTMxNyAzLjczMTQ0IDEwLjAzNzYgNS4zMTYxN1oiIGZpbGw9IiM2QTg0OTYiLz4KPHBhdGggZD0iTTEzLjI1OTUgMS44Nzk4M0MxMy4zMjU3IDEuNDcwOTQgMTMuNzEyMiAxLjE5MzU3IDE0LjEyMTEgMS4yNTk3NkMxNC4xNDY0IDEuMjY0NjEgMTQuMjI3OSAxLjI3OTgzIDE0LjI3MDUgMS4yODkzM0MxNC4zNTU5IDEuMzA4MzQgMTQuNDc0OSAxLjMzNzU5IDE0LjYyMzMgMS4zODA4MkMxNC45MjAxIDEuNDY3MjYgMTUuMzM0NyAxLjYwOTY3IDE1LjgzMjMgMS44Mzc4QzE2LjgyODYgMi4yOTQ1NiAxOC4xNTQ0IDMuMDkzNTYgMTkuNTMwMiA0LjQ2OTM2QzIwLjkwNiA1Ljg0NTE2IDIxLjcwNSA3LjE3MDk3IDIyLjE2MTcgOC4xNjcyNUMyMi4zODk5IDguNjY0ODcgMjIuNTMyMyA5LjA3OTQ3IDIyLjYxODcgOS4zNzYyNUMyMi42NjE5IDkuNTI0NjYgMjIuNjkxMiA5LjY0MzY5IDIyLjcxMDIgOS43MjkwMUMyMi43MTk3IDkuNzcxNjggMjIuNzI2NyA5LjgwNTk0IDIyLjczMTUgOS44MzEyNUwyMi43MzczIDkuODYyNDVDMjIuODAzNCAxMC4yNzEzIDIyLjUyODYgMTAuNjczOSAyMi4xMTk3IDEwLjc0MDFDMjEuNzEyIDEwLjgwNjEgMjEuMzI3OSAxMC41MyAyMS4yNjAxIDEwLjEyMzFDMjEuMjU4IDEwLjExMjEgMjEuMjUyMiAxMC4wODI4IDIxLjI0NjEgMTAuMDU1MUMyMS4yMzM3IDkuOTk5NyAyMS4yMTI0IDkuOTExODggMjEuMTc4NiA5Ljc5NTcyQzIxLjExMDkgOS41NjMzOSAyMC45OTM0IDkuMjE4MDYgMjAuNzk4MiA4Ljc5MjM4QzIwLjQwODQgNy45NDIwNyAxOS43MDc0IDYuNzY3ODkgMTguNDY5NSA1LjUzMDAyQzE3LjIzMTcgNC4yOTIxNiAxNi4wNTc1IDMuNTkxMTcgMTUuMjA3MiAzLjIwMTM0QzE0Ljc4MTUgMy4wMDYxOCAxNC40MzYyIDIuODg4NjUgMTQuMjAzOCAyLjgyMDk3QzE0LjA4NzcgMi43ODcxNCAxMy45NDE3IDIuNzUzNjMgMTMuODg2MyAyLjc0MTNDMTMuNDc5MyAyLjY3MzQ3IDEzLjE5MzUgMi4yODc1NSAxMy4yNTk1IDEuODc5ODNaIiBmaWxsPSIjNkE4NDk2Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTMuNDg1NyA1LjMyOTNDMTMuNTk5NSA0LjkzMTAyIDE0LjAxNDYgNC43MDA0IDE0LjQxMjkgNC44MTQxOUwxNC4yMDY5IDUuNTM1MzRDMTQuNDEyOSA0LjgxNDE5IDE0LjQxMjkgNC44MTQxOSAxNC40MTI5IDQuODE0MTlMMTQuNDE0NCA0LjgxNDYxTDE0LjQxNTkgNC44MTUwNUwxNC40MTkyIDQuODE2MDJMMTQuNDI3IDQuODE4MzRMMTQuNDQ2OCA0LjgyNDVDMTQuNDYxOCA0LjgyOTMyIDE0LjQ4MDcgNC44MzU2IDE0LjUwMzEgNC44NDM1N0MxNC41NDggNC44NTk1MSAxNC42MDc0IDQuODgyMTcgMTQuNjgwMiA0LjkxMzM3QzE0LjgyNTkgNC45NzU4MSAxNS4wMjQ5IDUuMDcyMjMgMTUuMjY5NSA1LjIxNjk0QzE1Ljc1ODkgNS41MDY2MiAxNi40MjcxIDUuOTg3OCAxNy4yMTIxIDYuNzcyNzdDMTcuOTk3MSA3LjU1Nzc1IDE4LjQ3ODIgOC4yMjU5MyAxOC43Njc5IDguNzE1NEMxOC45MTI2IDguOTU5OTEgMTkuMDA5IDkuMTU4OTcgMTkuMDcxNSA5LjMwNDY2QzE5LjEwMjcgOS4zNzc0NiAxOS4xMjU0IDkuNDM2ODIgMTkuMTQxMyA5LjQ4MTczQzE5LjE0OTMgOS41MDQxOCAxOS4xNTU1IDkuNTIzMDEgMTkuMTYwNCA5LjUzODA5TDE5LjE2NjUgOS41NTc4OEwxOS4xNjg4IDkuNTY1NjNMMTkuMTY5OCA5LjU2ODk2TDE5LjE3MDIgOS41NzA1QzE5LjE3MDIgOS41NzA1IDE5LjE3MDcgOS41NzE5NCAxOC40NDk1IDkuNzc3OThMMTkuMTcwNyA5LjU3MTk0QzE5LjI4NDUgOS45NzAyMSAxOS4wNTM4IDEwLjM4NTMgMTguNjU1NiAxMC40OTkxQzE4LjI2MDcgMTAuNjExOSAxNy44NDkyIDEwLjM4NjIgMTcuNzMxMyA5Ljk5NDEzTDE3LjcyNzYgOS45ODMzNUMxNy43MjIzIDkuOTY4MzIgMTcuNzExMyA5LjkzODc0IDE3LjY5MjggOS44OTU1NEMxNy42NTU4IDkuODA5MiAxNy41ODg3IDkuNjY3OTcgMTcuNDc3MSA5LjQ3OTM4QzE3LjI1NDEgOS4xMDI2NCAxNi44NTE0IDguNTMzMzkgMTYuMTUxNCA3LjgzMzQzQzE1LjQ1MTUgNy4xMzM0OCAxNC44ODIyIDYuNzMwNzggMTQuNTA1NSA2LjUwNzgxQzE0LjMxNjkgNi4zOTYxOSAxNC4xNzU3IDYuMzI5MDkgMTQuMDg5MyA2LjI5MjA5QzE0LjA0NjEgNi4yNzM1OCAxNC4wMTY1IDYuMjYyNTQgMTQuMDAxNSA2LjI1NzIxTDEzLjk5MDcgNi4yNTM1MkMxMy41OTg3IDYuMTM1NjQgMTMuMzcyOSA1LjcyNDE5IDEzLjQ4NTcgNS4zMjkzWiIgZmlsbD0iIzZBODQ5NiIvPgo8L3N2Zz4K',
                close2: 'PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE3LjgzNjIgMTQuNDYxMkwxMi4zNzU0IDkuMDAwNDRMMTcuODM2MiAzLjUzOTY5QzE3Ljk0MDggMy40MzM3OCAxNy45OTk1IDMuMjkwODkgMTcuOTk5NSAzLjE0MkMxNy45OTk1IDIuOTkzMTIgMTcuOTQwOCAyLjg1MDIzIDE3LjgzNjIgMi43NDQzMkwxNS4yNTY2IDAuMTY0NjkyQzE1LjE1MTEgMC4wNTkyMzk5IDE1LjAwOCAwIDE0Ljg1ODkgMEMxNC43MDk3IDAgMTQuNTY2NyAwLjA1OTIzOTkgMTQuNDYxMiAwLjE2NDY5Mkw5LjAwMDQ0IDUuNjI1NDRMMy41Mzk2OSAwLjE2NDY5MkMzLjQzNDIxIDAuMDU5MjM5OSAzLjI5MTE2IDAgMy4xNDIgMEMyLjk5Mjg1IDAgMi44NDk4IDAuMDU5MjM5OSAyLjc0NDMyIDAuMTY0NjkyTDAuMTY0NjkyIDIuNzQ0MzJDMC4wNTkyMzk5IDIuODQ5OCAwIDIuOTkyODUgMCAzLjE0MkMwIDMuMjkxMTYgMC4wNTkyMzk5IDMuNDM0MjEgMC4xNjQ2OTIgMy41Mzk2OUw1LjYyNTQ0IDkuMDAwNDRMMC4xNjQ2OTIgMTQuNDYxMkMwLjA1OTIzOTkgMTQuNTY2NyAwIDE0LjcwOTcgMCAxNC44NTg5QzAgMTUuMDA4IDAuMDU5MjM5OSAxNS4xNTExIDAuMTY0NjkyIDE1LjI1NjZMMi43NDQzMiAxNy44MzYyQzIuODQ5OCAxNy45NDE2IDIuOTkyODUgMTguMDAwOSAzLjE0MiAxOC4wMDA5QzMuMjkxMTYgMTguMDAwOSAzLjQzNDIxIDE3Ljk0MTYgMy41Mzk2OSAxNy44MzYyTDkuMDAwNDQgMTIuMzc1NEwxNC40NjEyIDE3LjgzNjJDMTQuNTY2NyAxNy45NDE2IDE0LjcwOTcgMTguMDAwOSAxNC44NTg5IDE4LjAwMDlDMTUuMDA4IDE4LjAwMDkgMTUuMTUxMSAxNy45NDE2IDE1LjI1NjYgMTcuODM2MkwxNy44MzYyIDE1LjI1NjZDMTcuOTQxNiAxNS4xNTExIDE4LjAwMDkgMTUuMDA4IDE4LjAwMDkgMTQuODU4OUMxOC4wMDA5IDE0LjcwOTcgMTcuOTQxNiAxNC41NjY3IDE3LjgzNjIgMTQuNDYxMloiIGZpbGw9IiMxMTE3MUMiLz4KPC9zdmc+Cg==',

            };
            const buttonQuiz = document.querySelector('#buttonQuiz');
            const quiz = document.querySelector('#Quiz');
            let currentCanvas = 2;
            let currentIndex = 0;
            const data = {
                title: 'Заголовок страницы',   
                isvideo1: false,
                isvideo2: false,              
                theme: {
                    backgroundColor: '#000',
                    textColor: '#FFFFFF',
                    buttonColor: '#000',
                    buttonTextColor: '#FFFFFF',
                    font: '',
                    buttonStyle: 'style4',
                    theme: 'light-theme' // Change this to 'user' or 'dark-theme' as needed
                },
                canvas1: {
                    title: 'Введите заголовок формы',
                    subtitle: 'Дополнительный текст-описание',
                    img: null,
                    logo: null,
                    name: 'ООО «Название компании»',
                    description: 'Название или слоган компании',
                    tel: '+7 (900) 000-00-00',
                    button: 'Начать',
                    video: null,
                    mobile: null,
                    aling: 'background-center',
                    isActive: true
                },
                canvas2: [
                    {
                        name: 'Answers',
                        question: 'Впишите заголовок вопроса',
                        answers: ['1', 'Gthdsq', '3']
                    },
                    {
                        name: 'Answers',
                        question: 'Впишите заголовок вопроса',
                        answers: ['1', 'Dgg', '3']
                    },
                    {
                        name: 'Answers',
                        question: 'Впишите заголовок вопроса',
                        answers: ['1', 'Nhtnbq', '3']
                    }
                ],
                canvas3: {
                    title: 'Введите заголовок формы',
                    subtitle: 'Дополнительный текст-описание',
                    img: null,
                    name: 'Иван',
                    email: 'Mail@example.com',
                    phone: '+7 (900) 000-00-00',
                    video: null,
                    aling: 'background-center'
                }
            };
            const userData = {
                date: '',
                position: '',
                user_id: '',
                answers: [
                    {
                        question: '',
                        answer: {
                            1: false,
                            2: false,
                            3: false
                        }
                    },
                    {
                        question: '',
                        answer: {
                            1: false,
                            2: false,
                            3: false
                        }
                    },
                    {
                        question: '',
                        answer: {
                            1: false,
                            2: false,
                            3: false
                        }
                    },
                ]

            }
            const close = data.theme.theme === 'dark-theme' ? imgs.close2 : imgs.close;
            quiz.innerHTML = `
                <div>
                    <img src="data:image/svg+xml;base64,${close}" alt="#" id="CloseQuiz">
                    <div id="canvas" class="${data.theme.buttonStyle}">
                    </div>
                </div>
            `;            
            const closeQuiz = document.querySelector('#CloseQuiz');
            const canvas = document.querySelector('#canvas');
            const backgroundColor = data.theme.backgroundColor;
            const textColor = data.theme.textColor;
            const buttonColor = data.theme.buttonColor;
            const buttonTextColor = data.theme.buttonTextColor;

            buttonQuiz.addEventListener('click', () => {
                quiz.style.display = 'block'; 
                quiz.classList.add(data.theme.theme);
            });

            closeQuiz.addEventListener('click', () => {
                quiz.style.display = 'none'; 
            });           
            const answer = (index) => {

                // Переключаем состояние выбранного ответа
                userData.answers[currentIndex].answer[index] = !userData.answers[currentIndex].answer[index];

                // Логируем состояние userData для отладки
                console.log(userData);

                // Перерисовываем ответы
                renderAnswers();
            };

            const renderAnswers = () => {
                const questionData = data.canvas2[currentIndex];
                const totalQuestions = data.canvas2.length; // Общее количество вопросов
                const progressPercentage = ((currentIndex) / totalQuestions) * 100; // Процент завершения

                canvas.innerHTML = `
                    <div class="canvas2">
                        <h3>${questionData.question}</h3>
                        <div class="answers">
                            ${questionData.answers.map((answer, index) => `
                                <div class="item">
                                    <button data-index="${index+1}" class='${userData.answers[currentIndex].answer[index + 1] ? 'active' : '' }'></button>
                                    <p>${answer}</p>
                                </div>
                            `).join('')}
                        </div>

                        <div class="progress">
                            <p>Готово: <span>${Math.round(progressPercentage)}%</span></p>
                            <div class='prog'><div style='width: ${Math.round(progressPercentage)}%'></div></div>
                            <a href="http://qzpro.ru">Создано в <span>QZ.pro</span></a>
                            <button id="backButton"><img src="data:image/svg+xml;base64,${imgs.back}" alt="#" /></button>
                            <button id="nextButton">Далее <img src="data:image/svg+xml;base64,${imgs.next}" alt="#" /></button>
                        </div>
                    </div>
                `;
                const answerButtons = document.querySelectorAll('.answers button');
                answerButtons.forEach((button) => {
                    button.addEventListener('click', () => {
                        const index = button.getAttribute('data-index');
                        answer(index); // Вызываем функцию answer с индексом
                    });
                });
                // Обработчик события для кнопки "Далее"
                document.getElementById('nextButton').addEventListener('click', () => {
                    if (currentIndex < data.canvas2.length - 1) {
                        currentIndex++;
                        renderAnswers(); // Перерисовать вопросы
                    } else {
                        currentCanvas = 3;
                        renderCanvas();
                    }
                });

                // Обработчик события для кнопки "Назад"
                document.getElementById('backButton').addEventListener('click', () => {
                    if (currentIndex > 0) {
                        currentIndex--;
                        renderAnswers(); // Перерисовать вопросы
                    }
                });
            };


            const renderAnswersAndIms = () => {
                const questionData = data.canvas2[currentIndex];
                const totalQuestions = data.canvas2.length; // Общее количество вопросов
                const progressPercentage = ((currentIndex) / totalQuestions) * 100; // Процент завершения

                canvas.innerHTML = `
                    <div class="canvas2">
                        <h3>${questionData.question}</h3>
                        <div class="answers">
                            ${questionData.answers.map((answer, index) => `
                                <div class="item">
                                    <button></button>
                                    <p>${answer}</p>
                                </div>
                            `).join('')}
                        </div>

                        <div class="progress">
                            <p>Готово: <span>${Math.round(progressPercentage)}%</span></p>
                            <div class='prog'><div style='width: ${Math.round(progressPercentage)}%'></div></div>
                            <a href="http://qzpro.ru">Создано в <span>QZ.pro</span></a>
                            <button id="backButton"><img src="data:image/svg+xml;base64,${imgs.back}" alt="#" /></button>
                            <button id="nextButton">Далее <img src="data:image/svg+xml;base64,${imgs.next}" alt="#" /></button>
                        </div>
                    </div>
                `;

                // Обработчик события для кнопки "Далее"
                document.getElementById('nextButton').addEventListener('click', () => {
                    if (currentIndex < data.canvas2.length-1) {
                        console.log(currentIndex);
                        currentIndex++;
                        renderAnswers(); // Перерисовать вопросы
                    } else {
                        currentCanvas = 3;
                        renderCanvas();
                        
                    }
                });

                // Обработчик события для кнопки "Назад"
                document.getElementById('backButton').addEventListener('click', () => {
                    if (currentIndex > 0) {
                        currentIndex--;
                        renderAnswers(); // Перерисовать вопросы
                    }
                });
            };
            const renderCalc = () => {
                const questionData = data.canvas2[currentIndex];
                const totalQuestions = data.canvas2.length; // Общее количество вопросов
                const progressPercentage = ((currentIndex) / totalQuestions) * 100; // Процент завершения

                canvas.innerHTML = `
                    <div class="canvas2">
                        <h3>${questionData.question}</h3>
                        <div class="answers">
                            ${questionData.answers.map((answer, index) => `
                                <div class="item">
                                    <button></button>
                                    <p>${answer}</p>
                                </div>
                            `).join('')}
                        </div>

                        <div class="progress">
                            <p>Готово: <span>${Math.round(progressPercentage)}%</span></p>
                            <div class='prog'><div style='width: ${Math.round(progressPercentage)}%'></div></div>
                            <a href="http://qzpro.ru">Создано в <span>QZ.pro</span></a>
                            <button id="backButton"><img src="data:image/svg+xml;base64,${imgs.back}" alt="#" /></button>
                            <button id="nextButton">Далее <img src="data:image/svg+xml;base64,${imgs.next}" alt="#" /></button>
                        </div>
                    </div>
                `;

                // Обработчик события для кнопки "Далее"
                document.getElementById('nextButton').addEventListener('click', () => {
                    if (currentIndex < data.canvas2.length-1) {
                        console.log(currentIndex);
                        currentIndex++;
                        renderAnswers(); // Перерисовать вопросы
                    } else {
                        currentCanvas = 3;
                        renderCanvas();
                        
                    }
                });

                // Обработчик события для кнопки "Назад"
                document.getElementById('backButton').addEventListener('click', () => {
                    if (currentIndex > 0) {
                        currentIndex--;
                        renderAnswers(); // Перерисовать вопросы
                    }
                });
            };
            const renderCanvas = () => {
                if (data.canvas1.isActive && currentCanvas === 1) {
                    canvas.innerHTML = ``;
                    const logoStyle = data.canvas1.logo ? `background: url(${data.canvas1.logo});` : 'background-color: rgba(66, 87, 102, 0.52);';
                    const alignClass = data.canvas1.aling;
                    const canvasClass = alignClass === 'canvas-center' ? 'canvas-center' : 'canvas1 ' + alignClass;
                    if (data.theme.theme === 'user') {
                        canvas.innerHTML = `
                            <div class="${canvasClass}" style="background-color: ${backgroundColor};">
                                ${data.canvas1.video ? `
                                    <video loop autoPlay muted class="img">
                                        <source src="${data.canvas1.video}" type="video/mp4" />
                                        Ваш браузер не поддерживает видео.
                                    </video>
                                ` : `
                                    <div class="img" style="background: url(${data.canvas1.img});"></div>
                                `}
                                <div class="right">
                                    <div class="logo">
                                        <button style="${logoStyle}"></button>
                                        <p style="color: ${textColor};">${data.canvas1.description}</p>                        
                                    </div>
                                    <h1 style="color: ${textColor};">${data.canvas1.title}</h1>
                                    <h3 style="color: ${textColor};">${data.canvas1.subtitle}</h3>
                                    <button style="background-color: ${buttonColor}; color: ${buttonTextColor};">
                                        ${data.canvas1.button}
                                    </button>
                                    <a href="http://qzpro.ru" style="color: ${textColor}; text-decoration-color: ${buttonColor};">
                                        Создано в <span style="color: ${buttonColor};">QZ.pro</span>
                                    </a>
                                    <p style="color: ${textColor};">${data.canvas1.tel}</p>
                                    <p style="color: ${textColor};">${data.canvas1.name}</p>
                                </div>
                            </div>
                        `;                    
                    } else {
                        canvas.innerHTML = `
                            <div class="${canvasClass}">
                                ${data.canvas1.video ? `
                                    <video loop autoPlay muted class="img">
                                        <source src="${data.canvas1.video}" type="video/mp4" />
                                        Ваш браузер не поддерживает видео.
                                    </video>
                                ` : `
                                    <div class="img" style="background: url(${data.canvas1.img});"></div>
                                `}
                                <div class="right">
                                    <div class="logo">
                                        <button style="${logoStyle}"></button>
                                        <p>${data.canvas1.description}</p>                        
                                    </div>
                                    <h1>${data.canvas1.title}</h1>
                                    <h3>${data.canvas1.subtitle}</h3>
                                    <button>
                                        ${data.canvas1.button}
                                    </button>
                                    <a href="http://qzpro.ru">
                                        Создано в <span>QZ.pro</span>
                                    </a>
                                    <p>${data.canvas1.tel}</p>
                                    <p>${data.canvas1.name}</p>
                                </div>
                            </div>
                        `;
                    }
                }
                if (currentCanvas === 2) {
                    renderAnswers();
                }
                if (currentCanvas === 3) {
                    canvas.innerHTML = ``; // Clear previous content
                    const backgroundColor = data.theme.backgroundColor;
                    const textColor = data.theme.textColor;
                    const buttonColor = data.theme.buttonColor;
                    const buttonTextColor = data.theme.buttonTextColor;
                    if (data.theme.theme === 'user') {
                        canvas.innerHTML = `
                            <div class="canvas3 ${data.canvas3.aling}" style="background-color: ${backgroundColor}; ">
                                ${data.canvas3.video ? `
                                    <video loop autoPlay muted class="img">
                                        <source src="${data.canvas3.video}" type="video/mp4" />
                                        Ваш браузер не поддерживает видео.
                                    </video>
                                ` : `
                                    <div class="img" style="background-image: url(${data.canvas3.img});"></div>
                                `}
                                <div class="right">
                                    <h1 style="color: ${textColor};">${data.canvas3.title}</h1>
                                    <h3 style="color: ${textColor};">${data.canvas3.subtitle}</h3>
                                    <div class="inputs">
                                        ${data.canvas3.name ? `
                                            <div class="name">
                                                <p style="color: ${textColor};">Имя*</p>
                                                <input type="text" placeholder='Иван' style="border-color: ${buttonColor};" />
                                                <img src="data:image/svg+xml;base64,${imgs.person}" alt="#" />
                                            </div>
                                        ` : ''}
                                        ${data.canvas3.email ? `
                                            <div class="email">
                                                <p style="color: ${textColor};">Email*</p>
                                                <input type="text" placeholder='Mail@example.com' style="border-color: ${buttonColor};" />
                                                <img src="data:image/svg+xml;base64,${imgs.email}" alt="#" />
                                            </div>
                                        ` : ''}
                                        ${data.canvas3.phone ? `
                                            <div class="phone">
                                                <p style="color: ${textColor};">Телефон*</p>
                                                <input type="text" placeholder='+7 (900) 000-00-00' style="border-color: ${buttonColor};" />
                                                <img src="data:image/svg+xml;base64,${imgs.phone}" alt="#" />
                                            </div>
                                        ` : ''}
                                    </div>
                                    <button style="background-color: ${buttonColor}; color: ${buttonTextColor};">Отправить</button>
                                </div>
                            </div>
                        `;                    
                    } else {
                        canvas.innerHTML = `
                            <div class="canvas3 ${data.canvas3.aling}">
                                ${data.canvas3.video ? `
                                    <video loop autoPlay muted class="img">
                                        <source src="${data.canvas3.video}" type="video/mp4" />
                                        Ваш браузер не поддерживает видео.
                                    </video>
                                ` : `
                                    <div class="img" style="background-image: url(${data.canvas3.img});"></div>
                                `}
                                <div class="right">
                                    <h1>${data.canvas3.title}</h1>
                                    <h3>${data.canvas3.subtitle}</h3>
                                    <div class="inputs">
                                        ${data.canvas3.name ? `
                                            <div class="name">
                                                <p>Имя*</p>
                                                <input type="text" placeholder='Иван'/>
                                                <img src="data:image/svg+xml;base64,${imgs.person}" alt="#" />
                                            </div>
                                        ` : ''}
                                        ${data.canvas3.email ? `
                                            <div class="email">
                                                <p>Email*</p>
                                                <input type="text" placeholder='Mail@example.com'/>
                                                <img src="data:image/svg+xml;base64,${imgs.email}" alt="#" />
                                            </div>
                                        ` : ''}
                                        ${data.canvas3.phone ? `
                                            <div class="phone">
                                                <p>Телефон*</p>
                                                <input type="text" placeholder='+7 (900) 000-00-00'/>
                                                <img src="data:image/svg+xml;base64,${imgs.phone}" alt="#" />
                                            </div>
                                        ` : ''}
                                    </div>
                                    <button>Отправить</button>
                                </div>
                            </div>
                        `;  
                    }

                }                
            }
            const SENDDATA = async (userData) => {
                try {
                    const response = await fetch(`${url}/api/${quiz_id}/answer`, {
                        method: 'POST',
                        mode: 'cors',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(userData),
                    });
                    console.log(JSON.stringify(userData));
                    if (!response.ok) {
                        console.error('Fetch failed with status:', response.status); 
                        return;
                    }
                    const data = await response.json();
                } catch (error) {       
                    console.error("Error occurred:", error); 
                }
            }
            renderCanvas();    
        });
    </script>
</body>
</html>